# Day 06 : successful âœ…
### ðŸ”´ with out `capacitor` bwcause I use 250 volt 400uF But ðŸŸ¢ I need `400 volt 100uF`
Without a capacitor our system does `not` `generate` `pulses` properly, when it's discharged , so it takes too much time to cut

> Explain in details section.

<details>
  
- ðŸ”´ I dont fild the exect capacitor with 400v , so no other capacitor can control the INDIAL electric.
- ðŸ”µ Our capacitor is 250 voltage rated, and we can convert 230 voltage AC to DC directly using a rectifier. Show the voltage increase up to 325 volt in DC (230 x âˆš2)  which is too much then our using capacitor rating ... So that's why it cannot control the current and blasted ðŸ”¥ 

</br>

<p align="center">
  <img src="setup/Day 06/capacitor bust 01.jpg" alt="Image 1" width="47%" style="margin-right: 10px;"/>
  <img src="setup/Day 06/capacitor bust 02.jpg" alt="Image 2" width="47%" style="margin-right: 10px;"/>
</p>

https://github.com/user-attachments/assets/153258d2-61ac-46c7-a9ae-39a689c076dd

</details>

---

### updated code with

```cpp
 frequency = frequency / 10.0; // 0.1 â€“ 30.0 Hz
  if (frequency < 0.1) frequency = 0.1;
```
```cpp
lcd.print(frequency, 1);
```

#### ðŸŸ¢ complete Code

```cpp
#include <LiquidCrystal.h>

// Pin setup
const int ledPin = 9;
const int brightnessPot = A0;
const int frequencyPot = A1;

// LCD pin setup (RS, EN, D4, D5, D6, D7)
LiquidCrystal lcd(7, 8, 4, 5, 6, 10); // Avoids pin 9 conflict

unsigned long previousMillis = 0;
bool ledState = false;
float delayTime = 500;

void setup() {
  pinMode(ledPin, OUTPUT);
  lcd.begin(16, 2); // Initialize 16x2 LCD
  Serial.begin(9600); // For debugging
}

void loop() {
  // Read potentiometers continuously
  int brightnessVal = analogRead(brightnessPot);
  int frequencyVal = analogRead(frequencyPot);

  // Map values
  int ledBrightness = map(brightnessVal, 0, 1023, 0, 255);
  float frequency = map(frequencyVal, 0, 1023, 1, 300);
  frequency = frequency / 10.0; // 0.1 â€“ 30.0 Hz
  if (frequency < 0.1) frequency = 0.1;
  delayTime = (1000.0 / frequency) / 2.0;

  // Display on LCD
  lcd.setCursor(0, 0);
  lcd.print("PWM:");
  lcd.print(ledBrightness);
  lcd.print("   ");

  lcd.setCursor(0, 1);
  lcd.print("Freq:");
  lcd.print(frequency, 1);
  lcd.print("Hz   ");

  // Serial Monitor
  Serial.print("PWM (Brightness): ");
  Serial.print(ledBrightness);
  Serial.print(" | Frequency: ");
  Serial.print(frequency);
  Serial.println(" Hz");

  // Blink LED using millis (non-blocking)
  unsigned long currentMillis = millis();
  if (currentMillis - previousMillis >= delayTime) {
    previousMillis = currentMillis;
    ledState = !ledState;

    if (ledState) {
      analogWrite(ledPin, ledBrightness);
    } else {
      analogWrite(ledPin, 0);
    }
  }
}
```

---

https://github.com/user-attachments/assets/51f49737-cd3f-4dc5-ba9a-4bfdb55954c3

> click to see the `complete video` on [`YouTube`](https://youtu.be/HqGpgHKPkes)
</br>
<p align="center">
  <img src="setup/Day 06/usb power supply.jpg" alt="Image 1" width="47%" style="margin-right: 10px;"/>
  <img src="setup/Day 06/power booster.jpg" alt="Image 2" width="47%" style="margin-right: 10px;"/>
</p>
<p align="center">
  <img src="setup/Day 06/electrical warning 01.jpg" alt="Image 1" width="47%" style="margin-right: 10px;"/>
  <img src="setup/Day 06/electrical warning 02.jpg" alt="Image 2" width="47%" style="margin-right: 10px;"/>
</p>

</br>

<img src="setup/Day 06/Result.jpg">
