# using `555`

https://github.com/user-attachments/assets/25926c1a-b464-4484-8ef1-09befe2f7300

---

<div style='display:flex; align-items:center; gap: 30px;' align='center'>
    
# using `Raspberry pi pico W`
</div>

<p style='display:flex; align-items:center; gap: 30px;' align='center'>
  <img src="https://github.com/user-attachments/assets/9449ad5b-d688-48a0-b950-517d9ac1545c" alt="Image 1" width="45%" style="margin-right: 10px;"/>
  <img src="https://github.com/user-attachments/assets/4f6a7467-ce01-4dea-81b5-e70e241b0158" alt="Image 2" width="45%" style="margin-right: 10px;"/>
</p>

## Code for IDE

```cpp
#include <WiFi.h>
#include <WebServer.h>
#include "hardware/pwm.h"

const char *ssid = "PicoW_AP";
const char *password = "Mahapatra";

WebServer server(80);
const int ledPin = 25;  // Built-in LED (PWM)

// Default frequency and slice number
float frequency = 1.0;
uint slice_num;

// HTML Webpage with Better Controls
const char webpage[] PROGMEM = R"rawliteral(
<!DOCTYPE html>
<html>
<head>
    <title>Pico W LED PWM Control</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        body { font-family: Arial, sans-serif; text-align: center; margin: 20px; }
        .slider { width: 80%; }
        .input-box { width: 100px; text-align: center; font-size: 16px; }
        .btn { font-size: 20px; padding: 5px 15px; margin: 5px; }
    </style>
    <script>
        function updateFrequency(val) {
            document.getElementById("freqValue").value = val;
            fetch("/setFrequency?freq=" + val);
        }

        function changeFrequency(change) {
            let freqInput = document.getElementById("freqValue");
            let newFreq = parseFloat(freqInput.value) + change;
            if (newFreq < 0.01) newFreq = 0.01;
            if (newFreq > 100000) newFreq = 100000;
            freqInput.value = newFreq.toFixed(2);
            fetch("/setFrequency?freq=" + newFreq);
        }

        function setSliderValue() {
            let freqInput = document.getElementById("freqValue").value;
            document.getElementById("freqSlider").value = Math.log10(freqInput);
        }
    </script>
</head>
<body>
    <h2>Pico W LED PWM Frequency Control</h2>
    <p>Set Frequency (Hz):</p>
    
    <button class="btn" onclick="changeFrequency(-1)">-1 Hz</button>
    <button class="btn" onclick="changeFrequency(-0.1)">-0.1 Hz</button>
    <input type="number" id="freqValue" class="input-box" min="0.01" max="100000" step="0.01" value="1" oninput="updateFrequency(this.value)">
    <button class="btn" onclick="changeFrequency(0.1)">+0.1 Hz</button>
    <button class="btn" onclick="changeFrequency(1)">+1 Hz</button>
    
    <p>Use Slider (Log Scale):</p>
    <input type="range" min="-2" max="5" step="0.01" value="0" class="slider" id="freqSlider" 
           oninput="updateFrequency(Math.pow(10, this.value))" onchange="setSliderValue()">
</body>
</html>
)rawliteral";

// Set PWM Frequency using RP2040 SDK
void setPWMFrequency(float freq) {
    if (freq < 0.01) freq = 0.01;  // Prevent too low frequency
    if (freq > 100000) freq = 100000;  // Prevent too high frequency

    uint32_t clock_speed = 125000000; // RP2040 system clock (125 MHz)
    uint16_t wrap_value = clock_speed / freq;

    pwm_set_wrap(slice_num, wrap_value);
    pwm_set_chan_level(slice_num, PWM_CHAN_A, wrap_value / 2); // 50% duty cycle
    pwm_set_enabled(slice_num, true);

    Serial.print("New Frequency Set: ");
    Serial.println(freq);
}

// Handle Web Page Request
void handleRoot() {
    server.send(200, "text/html", webpage);
}

// Handle Frequency Update
void handleSetFrequency() {
    if (server.hasArg("freq")) {
        frequency = server.arg("freq").toFloat();
        setPWMFrequency(frequency);
    }
    server.send(200, "text/plain", "Frequency updated");
}

void setup() {
    Serial.begin(115200);
    pinMode(ledPin, OUTPUT);

    // Initialize PWM
    gpio_set_function(ledPin, GPIO_FUNC_PWM);
    slice_num = pwm_gpio_to_slice_num(ledPin);
    setPWMFrequency(frequency); // Start with default frequency

    // Start WiFi AP
    WiFi.softAP(ssid, password);
    Serial.print("AP IP Address: ");
    Serial.println(WiFi.softAPIP());

    // Start Web Server
    server.on("/", handleRoot);
    server.on("/setFrequency", handleSetFrequency);
    server.begin();
    Serial.println("Web Server started at http://192.168.4.1");
}

void loop() {
    server.handleClient();
}

```

in Raspberry Pi Pico W uses **GPIO25** for the onboard LED, but it not exposed as a physical pin. Instead, we can use **GPIO2** or **GPIO3** instead of GPIO25. Modify your Arduino code accordingly:

```cpp
#define LED_PIN 2 // Change to an available pin
```

---

<p style='display:flex; align-items:center; gap: 30px;' align='center'>
  <img src="https://github.com/user-attachments/assets/c0e8ecba-8c78-4ed4-b892-43ecb128b9ef" alt="Image 1" width="45%" style="margin-right: 10px;"/>
  <img src="https://github.com/user-attachments/assets/5b60a0ed-3ec5-4e56-812d-d64969616d2a" alt="Image 2" width="45%" style="margin-right: 10px;"/>
</p>

